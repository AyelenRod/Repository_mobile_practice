## Обработка исключений (#3)

Начальный код содержит класс `DataBase` и связанные с ним исключения, а также класс `NetConnection` и связанные с ним исключения. Также есть перечисление `Status` для возврата `Success` и `Failed` в качестве альтернативы исключениям.

Ваша задача - завершить функцию `transact()`, которая содержит ссылки на `DataBase` и два `NetConnection`. В начальном коде показано, как открыть `DataBase`.

В вложенной функции `transfer(net: NetConnection): Status` вы должны написать код для открытия `net`, считывания из него и записи результатов в `DataBase`. Вы также должны поймать исключения и вернуть `Failed`, если они произошли. В завершении функции `transfer()` блок `finally` закрывает `net` и обрабатывает исключения при этом. Если вы успешно пройдете через `transfer()`, он возвращает `Success`.

Оставшаяся часть `transact()` вызывает `transfer()` для каждого из объектов `NetConnection`, проверяя результат и возвращая `Failed` из `transact()`, если `transfer()` возвращает `Failed`. Наконец, блок `finally` пытается закрыть объект `DataBase`.

Многие из функций-членов для `DataBase` и `NetConnection` принимают параметры `id: Int` и `level: Int`. `id` — это разное число для каждого отдельного вызова, а `transact()` принимает параметр `level`, который передается в каждый вызов. В определениях функций-членов вы увидите, что `id` сравнивается с `level`, чтобы решить, выбросить ли исключение. Таким образом, все возможные исключения проверяются поочерёдно, проходя различные значения `level` в начальном коде `main()`.

Вы должны учитывать, может ли операция вызвать исключение, *и* можете ли вы что-нибудь сделать, чтобы восстановиться после этого исключения. Например, если открытие базы данных не удалось внутри `transact()`, мы не потеряли данные, поэтому можем просто `return Failed`, и программа может попробовать снова. Но если закрытие базы данных не удается, это означает, что мы не знаем состояние базы данных и, вероятно, должны выбросить исключение, а не возвращать `Failed`. Напротив, сбой при закрытии сетевого соединения особых проблем не представляет.

Заметьте, как быстро всё становится сложным, когда пытаешься восстановиться от всех возможных сбоев.

<sub> Эта задача не содержит автоматических тестов,
поэтому она всегда отмечена как "Правильно", когда вы нажимаете "Проверить".
Пожалуйста, сравните ваше решение с предоставленным! </sub>